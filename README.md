## **开源软件基础大作业**

**主要任务**：完成 Kafka 提交历史信息的分析与可视化

**小组成员**：徐昊、资唯、邓开琦、孙福炜

**项目结构与功能**：

本项目的目标是通过分析 Kafka 项目的 Git 提交历史，挖掘出提交的模式、贡献者情况、模块热度等关键信息，并通过可视化手段帮助团队更好地理解项目的发展趋势和贡献分布。整个项目分为以下几个模块：

#### 1. 数据解析与爬取

- **KafkaCommitAnalysis.py**
  本脚本负责解析 Kafka 仓库的提交记录。通过读取提交日志文件（`kafka_commits.txt`），采用正则表达式提取每个提交的关键信息，包括提交的 SHA 值、作者、日期、修改的文件以及提交的详细信息等。所有的提交数据会被存储在 Pandas DataFrame 中，便于后续的数据处理和分析。

  **关键功能**：

  - 提取提交的元数据（如提交 SHA、作者、日期等）
  - 解析提交消息中的关键信息（如提交类型、修复模块等）
  - 将解析后的数据保存为结构化的 DataFrame，供后续分析使用

#### 2. 数据增强与清洗

- **数据增强**
  在数据清洗过程中，通过对文件路径的分析，提取每个提交的“主模块”（`main_module`）。例如，如果提交涉及的是某个特定模块的文件，那么该模块会被标记为此次提交的主模块。此外，提交消息的分析也被纳入清洗过程，进一步增强了数据的可用性。

  **数据增强流程**：

  - 解析每个提交所修改的文件路径，提取文件的主模块
  - 通过提交消息分析，标注每次提交的主要类型（功能添加、修复、优化等）

#### 3. 数据分析与可视化

##### 3.1 徐昊所作工作：提交类型分析与可视化

- **提交类型分析**
  在数据分析阶段，我们通过对提交信息的正则表达式匹配，将提交消息分为多个类型（例如：功能新增、修复、文档更新、性能优化、重构等）。我们使用了 `re` 库中的正则表达式对每条提交消息进行分类，并统计每种类型的提交次数。

  **功能实现**：

  - 定义了提交类型的模式（`feature`、`fix`、`docs`、`perf`、`refactor` 等）
  - 统计各类型的提交数量，并计算其比例

  **生成图表**：

  - **提交类型分布饼图**：通过 Matplotlib 生成饼图，直观展示不同类型提交的分布情况。


##### 3.2 资唯所作工作：贡献者统计与可视化

- **贡献者统计**
  对每位作者的提交次数进行了统计，分析了每个贡献者的贡献情况。通过 Pandas 的 `value_counts()` 函数对作者进行排序，生成提交次数最多的前 15 位贡献者，并使用 Seaborn 绘制柱状图。

  **功能实现**：

  - 统计每个作者的提交次数，并展示前 15 位贡献者
  - 使用 Seaborn 绘制贡献者排名的柱状图

  **生成图表**：

  - **作者提交排名柱状图**：展示前 15 位贡献者的提交数量，帮助评估项目的贡献分布。


##### 3.3 邓开琦所作工作：模块热度分析与可视化

- **模块热度分析**
  在 Kafka 项目的提交记录中，每个提交涉及的文件可以归类为不同的模块。通过分析每次提交修改的文件路径，提取出主模块，并统计每个模块的提交频次。利用 Plotly 绘制了模块热度的树状图，直观展示不同模块的提交活跃度。

  **功能实现**：

  - 统计每个模块的提交数量
  

##### 3.4 孙福炜所作工作：提交活动时间趋势分析

- **提交活动时间趋势分析**
  通过分析每个提交的日期，绘制了提交活动随时间变化的趋势图。使用 Pandas 的 `resample()` 函数按月汇总提交数据，并通过 Matplotlib 绘制时间趋势图。此图展示了项目的开发节奏以及在不同时间段内的提交活动情况。

  **功能实现**：

  - 按月统计提交数量
  
  **生成图表**：
  
  - **提交活动趋势图**：展示每月的提交数量，反映项目开发的活跃度和节奏。
  

#### 4. 结果输出与文件管理

所有统计分析将被保存。

------

通过这些分析和可视化工作，我们深入了解了 Kafka 项目的开发动态，包括每个模块的活跃程度、贡献者的贡献情况，以及提交类型的分布。这些结果为项目管理和团队协作提供了有价值的参考，帮助优化开发流程和资源分配。